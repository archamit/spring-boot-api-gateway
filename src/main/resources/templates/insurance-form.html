<html>
<body ng-app="myApp" ng-controller="CarInsuranceContrller as ctrl">
<head>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
  
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.4/angular.js"></script>
<script>
var app = angular.module("myApp", []);
</script>

<script src="/static/services/car_insurance_service.js"></script>
<script src="/static/controllers/car_insurance_controller.js"></script>

</head>
<div class="col-md-5">
  <div class="panel panel-primary">
    <div class="panel-heading">Car Insurance Form</div>
    <div class="panel-body">
			<form accept-charset="UTF-8"	name="myForm"			
				class="simple_form new_user_basic"
				id="new_user_basic" method="post" novalidate="novalidate">				

				<div class="form-group name required">
					<label class="name required control-label" for="name"><abbr
						title="required">*</abbr> Owner Name</label><input
						class="string name required form-control" id="name" ng-model="ctrl.carInsuranceData.ownerName"
						name="user_basic[name]" placeholder="Enter owner Name" type="text">
					<p class="help-block">Enter Car owner details</p>
				</div>

				<div class="form-group carModel required">
					<label class="carModel required control-label" for="carModel"><abbr
						title="required">*</abbr> Car Model</label><input
						class="string carModel required form-control" id="carModel" ng-model="ctrl.carInsuranceData.carModel"
						name="user_basic[carModel]" placeholder="Enter Car Model" type="text">
					<p class="help-block">Enter Car Model</p>
				</div>
				
				<div class="form-group name required">
					<label class="carManufacturer required control-label" for="carManufacturer"><abbr
						title="required">*</abbr> Car Mnufacturer</label><input
						class="string name required form-control" id="carManufacturer"
						name="user_basic[carManufacturer]" placeholder="Enter Car Manufacturer" type="text" ng-model="ctrl.carInsuranceData.carManufacturer">
					<p class="help-block">Enter Car Manufacturer</p>
				</div>
				
				
				<div class="form-group name required">
					<label class="engineCapacity required control-label" for="engineCapacity"><abbr
						title="required">*</abbr> Engine Capacity</label><input
						class="string name required form-control" id="engineCapacity"
						name="user_basic[engineCapacity]" placeholder="Enter Car Manufacturer" type="text" ng-model="ctrl.carInsuranceData.engineCapacity">
					<p class="help-block">Enter Car Engine Capacity</p>
				</div>
				
				<div class="form-group name required">
					<label class="manufacturingYear required control-label" for="manufacturingYear"><abbr
						title="required">*</abbr> Manufacturing Year</label><input
						class="string manufacturingYear required form-control" id="manufacturingYear"
						name="user_basic[manufacturingYear]" placeholder="Enter Car Manufacturing Year" type="text" ng-model="ctrl.carInsuranceData.manufacturingYear">
					<p class="help-block">Enter Car Manufacturing Year</p>
				</div>
				
				<div class="form-group bodyColor required">
					<label class="bodyColor required control-label" for="bodyColor"><abbr
						title="required">*</abbr> Body Color</label><input
						class="string bodyColor required form-control" id="bodyColor"
						name="user_basic[bodyColor]" placeholder="Enter Car Body Color" type="text" ng-model="ctrl.carInsuranceData.bodyColor">
					<p class="help-block">Enter Car Body Color</p>
				</div>											
				<button class="btn btn-success btn-flat pull-left" id="search-btn" ng-click="ctrl.submit();">Renew Insurance</button>	
			</form>
		</div>
  </div>
</div>
<div class="col-md-7 pull-right" ng-init="ctrl.fetchAllData();">
  <h4>Car Insurance Data</h4>
  <hr>
  <table class="table table-striped table-hover">
    <thead>
      <tr>
      	<th>Select To Edit</th>
        <th>Owner</th>
        <th>Car Details</th>
        <th>Insurance Expiry</th>
        <th>New Insurance Date</th>
      </tr>
    </thead>
    <tbody>
      <tr data-ng-repeat="data in ctrl.carInsuranceList">
      <td class="text-center"><input type="radio" ng-class="rdo" name="rdo" value="{{data.id}}" ng-model="data.id"  ng-click="ctrl.checkedRdo(data)"></td>
        <td>{{data.ownerName}}</td>
        <td>{{data.carManufacturer}} ({{data.carModel}}), {{data.engineCapacity}}, {{data.bodyColor}} -Color, Year-{{data.manufacturingYear}}</td>        
        <td>{{data.currentInsuranceValidTill| date:'MMM dd, yyyy'}}</td>
        <td>{{data.newInsuranceDate| date:'MMM dd, yyyy'}}</td>
      </tr>      
    </tbody>
    <tfoot>
      <tr>
      	<th>Select To Edit</th>
        <th>Owner</th>
        <th>Car Details</th>
        <th>Insurance Expiry</th>
        <th>New Insurance Date</th>
      </tr>
    </tfoot>
  </table>
  </div>
</body>
</html>